/*----------------
--     CLIENT   --
------------------*/

	/*only buildscript {} and other plugins {} blocks are allowed before plugins {} blocks, 
	  no other statements are allowed
	//this is for making exe file only*/	
	plugins {
		id 'edu.sc.seis.launch4j' version '2.3.0'
	}
	
	apply plugin: 'eclipse'
	
	dependencies
	{
		compile project (":eqCore")

		//JSAP (Java Simple Arguments Parser)
		compile 'com.martiansoftware:jsap:2.1'
	}
	
	eclipse {
		classpath {	
		    //customizing the classes output directory:
		    defaultOutputDir = file('build-eclipse')
		
		    //default settings for downloading sources and Javadoc:
		    downloadSources = false
		    downloadJavadoc = true
		}
	}

	apply plugin: 'application' //adds 'run' task	
	mainClassName = 'frawla.equiz.client.Main'

/*
	jar {
    	manifest {
    	 attributes(
			'Class-Path': ".",
    	 	'Implementation-Title': "Gradle",
            'Implementation-Version': version,
            'Main-Class': mainClassName)
    	}
	}
*/

	// launch4j: put all configuration of launch4j here 
	createExe {
		outputDir = "../../exe/client"
		fileDescription	 = "Electronic Quizes - Client"
		copyright = "All Copyright are recieved (c) 2016~2018, This is a program for e-quizes in order to make exams for students and mark registeration."
		companyName = "Sami"
		 
	    mainClassName = "frawla.equiz.client.Main"
	    // = new File('../A') project(':eqClient')
	    def projPath = projectDir.absolutePath;
	    icon = new File(projPath + '/src/main/resources/images/exam.ico').absolutePath
	    headerType = "gui" //no splash with console
		
		splashFileName = new File(projPath + '/src/main/resources/images/splash-client.bmp').absolutePath
		version = gitVersion() 
		//project.name
		outfile = 'eQuiz-client-' + version +'.exe'
		productName	= 'eQuiz-client-' + version
		internalName = 'eQuiz-client-' + version

		// initialHeapSize = 0 //Optional
		// maxHeapSize = 4096
		// maxHeapPercent = 50
		errTitle = "Java is not Supported on this Computer"
		downloadUrl = 'http://java.com/download'
		messagesStartupError "An error occurred while starting the application.\n" + "��� ��� ����� ����� ��������" 
		messagesBundledJreError "This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted.\n" + "��� �������� ���� ��� ���� ��� ���� ���� ��������ɡ ���� �� ������ ��� ������ �� �����"
		messagesJreVersionError "This application requires a Java Runtime Environment\n" + "��� �� ����� ���� ������ � ���� �� ����� ������ ��������"
		messagesLauncherError "The registry refers to a nonexistent Java Runtime Environment installation or the runtime is corrupted.\n" + "������ ��� ����� ���� ����"
		messagesInstanceAlreadyExists "An application instance is already running.\n" + "������ ��� ���� �� ���� ��������"
		//see more: https://github.com/TheBoegl/gradle-launch4j
	}

	